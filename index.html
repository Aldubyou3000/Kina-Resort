<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Permissions-Policy" content="unload=(), bluetooth=()" />
    <title>Kina Resort â€“ Online Reservations</title>
    <meta
      name="description"
      content="Kina Resort online reservation system: browse rooms, view packages, check calendar, and book your tropical stay."
    />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <script type="importmap">
      {
        "imports": {
          "@supabase/supabase-js": "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm"
        }
      }
    </script>
  </head>
  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header id="site-header" aria-label="Global">
      <nav class="container nav" aria-label="Primary">
        <a class="brand" href="#/">
          <img
            src="images/kina-logo1.png"
            alt="Kina Resort logo"
            style="height: 100px; width: auto"
          />
        </a>
        <button
          class="nav-toggle"
          aria-expanded="false"
          aria-controls="primary-menu"
          aria-label="Toggle navigation"
        >
          â˜°
        </button>
        <ul id="primary-menu" class="menu" role="menubar">
          <li role="none"><a role="menuitem" href="#/packages">Packages</a></li>
          <li role="none" hidden><a role="menuitem" href="#/bookings">Bookings</a></li>
          <li role="none"><a role="menuitem" href="#/calendar">Calendar</a></li>
          <li role="none"><a role="menuitem" href="#/about">About</a></li>
          <li role="none">
            <a role="menuitem" href="#/auth">Login</a>
          </li>
        </ul>
      </nav>
    </header>

    <main id="main" tabindex="-1"></main>

    <footer id="site-footer" aria-label="Footer"></footer>

    <div id="modal-root" aria-live="polite" aria-relevant="additions"></div>
    <div id="toast-root" aria-live="assertive" aria-atomic="true"></div>
    <div id="loader-root" hidden aria-hidden="true"></div>

    <!-- Back to top button -->
    <button
      id="back-to-top"
      class="back-to-top"
      aria-label="Back to top"
      title="Back to top"
    >
      <!-- circular arrow icon -->
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path
          d="M12 19V5"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
        <path
          d="M6 11l6-6 6 6"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <circle
          cx="12"
          cy="12"
          r="10"
          stroke="currentColor"
          stroke-width="1.5"
          opacity=".2"
        />
      </svg>
    </button>

    <!-- Resort AI floating button (next to Up button) -->
    <button
      id="resort-ai"
      class="ai-button"
      aria-label="Resort AI"
      title="Resort AI"
    >
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
        />
        <path d="M13 8H7" />
        <path d="M17 12H7" />
      </svg>
    </button>

    <!-- AI Chatbot Notification Popup -->
    <div id="ai-notification" class="ai-notification" style="display: none">
      <div class="ai-notification-content">
        <div class="ai-notification-text">
          <strong>Have inquiries?</strong>
          <span>Ask our AI assistant!</span>
        </div>
        <button class="ai-notification-close" onclick="closeAINotification()">
          Ã—
        </button>
      </div>
    </div>

    <!-- AI Chatbot Conversation Popup -->
    <div id="ai-chat-popup" class="ai-chat-popup" style="display: none">
      <div class="ai-chat-header">
        <div class="ai-chat-user-info">
          <div class="ai-avatar">
            <div class="avatar-img">ðŸ¤–</div>
          </div>
          <div class="ai-chat-details">
            <h3 class="ai-name">Kina Resort AI</h3>
            <span class="ai-status">
              <span class="status-dot"></span>
              Online
            </span>
          </div>
        </div>
        <div class="ai-chat-actions">
          <button class="ai-chat-minimize" onclick="minimizeAIChat()" title="Minimize">
            âˆ’
          </button>
          <button class="ai-chat-close" onclick="closeAIChat()" title="Close">
            Ã—
          </button>
        </div>
      </div>
      
      <div class="ai-chat-messages" id="ai-chat-messages">
        <div class="message-group ai-message-group">
          <div class="message-avatar">
            <div class="avatar-img">ðŸ¤–</div>
          </div>
          <div class="message-bubble ai-message-bubble">
            <div class="message-text">
              <p>Hello! I'm your Kina Resort assistant. How can I help you today?</p>
            </div>
            <div class="message-time">Just now</div>
          </div>
        </div>
      </div>
      
      <div class="ai-chat-input-container">
        <div class="ai-chat-input-wrapper">
          <input 
            type="text" 
            id="ai-chat-input" 
            class="ai-chat-input" 
            placeholder="Type a message..."
            onkeypress="handleAIChatKeypress(event)"
          >
          <button class="ai-chat-send" onclick="sendAIMessage()" title="Send message">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22,2 15,22 11,13 2,9 22,2"></polygon>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Page Templates: keep structure in HTML for readability and easy edits -->
    <template id="tpl-home">
      <section id="section-hero" class="container">
        <div class="hero" aria-label="Resort highlights carousel">
          <!-- Slides: JS will rotate opacity -->
          <div class="hero-slide" data-src="images/resort1.JPG"></div>
          <div class="hero-slide" data-src="images/kina1.jpg"></div>
          <div class="hero-slide" data-src="images/kina2.jpg"></div>
          <div class="hero-slide" data-src="images/kina3.jpg"></div>
          <div class="hero-overlay"></div>
          <div class="hero-content">
            <div class="eyebrow">Welcome to</div>
            <div class="h1">Kina Resort</div>
            <div style="display: flex; gap: 10px; flex-wrap: wrap">
              <a class="btn primary" href="#/packages">Book Now</a>
              <a class="btn hollow" href="#/packages">View Packages</a>
            </div>
          </div>
        </div>
      </section>

      <section id="section-why" class="container">
        <div class="section-head"><h2>Why Kina</h2></div>
        <div class="tiles">
          <article class="tile portrait">
            <div
              class="p-media"
              data-src="images/kina1.jpg"
              aria-hidden="true"
            ></div>
            <div class="p-body">
              <h3>Facilities</h3>
              <p>Beachfront serenity in the Island Province, PH.</p>
            </div>
            <span class="p-view">View <span class="arrow">&gt;</span></span>
          </article>
          <article class="tile portrait">
            <div
              class="p-media"
              data-src="images/kina2.jpg"
              aria-hidden="true"
            ></div>
            <div class="p-body">
              <h3>Packages</h3>
              <p>Rooms, cottages, function halls, and more.</p>
            </div>
            <span class="p-view">View <span class="arrow">&gt;</span></span>
          </article>
          <article class="tile portrait">
            <div
              class="p-media"
              data-src="images/kina3.jpg"
              aria-hidden="true"
            ></div>
            <div class="p-body">
              <h3>Amenities</h3>
              <p>Plan your stay with real-time forecasts and tips.</p>
            </div>
            <span class="p-view">View <span class="arrow">&gt;</span></span>
          </article>
        </div>
      </section>

      <section id="section-gallery">
        <div class="container section-head">
          <h2>Gallery</h2>
        </div>
        <div class="feature-list" role="region" aria-label="Resort highlights">
          <article class="feature" data-src="images/kina1.jpg">
            <div class="feature-media-wrap">
              <div class="feature-media" aria-hidden="true"></div>
            </div>
            <div class="feature-content">
              <h3>Beachfront Serenity</h3>
              <p>
                Wake up to ocean breezes and relaxing views. Our beachfront is
                steps away from your room, designed for calm morning walks and
                golden sunsets. Lorem ipsum dolor sit, amet consectetur
                adipisicing elit. Illum cumque ullam commodi, eum architecto
                laudantium, animi sed repudiandae obcaecati, mollitia iure nihil
                tempora! Quaerat ad reiciendis sed autem, voluptatum
                repudiandae.
              </p>
            </div>
          </article>
          <article class="feature" data-src="images/kina2.jpg">
            <div class="feature-media-wrap">
              <div class="feature-media" aria-hidden="true"></div>
            </div>
            <div class="feature-content">
              <h3>Function Halls</h3>
              <p>
                Host your special events in our spacious function halls. Perfect
                for celebrations, gatherings, and memorable occasions. Choose from
                our Grand Function Hall or Intimate Function Hall to suit your needs.
              </p>
            </div>
          </article>
          <article class="feature" data-src="images/kina3.jpg">
            <div class="feature-media-wrap">
              <div class="feature-media" aria-hidden="true"></div>
            </div>
            <div class="feature-content">
              <h3>Tropical Greens</h3>
              <p>
                Stroll among vibrant gardens and native palms. Our grounds are
                curated to bring the islandâ€™s natural beauty closer to you.
                Lorem ipsum dolor sit amet consectetur adipisicing elit.
                Asperiores expedita accusantium nemo aperiam veniam inventore
                aliquid illum totam vero cumque animi, sapiente ut qui adipisci
                velit minus excepturi aliquam provident.
              </p>
            </div>
          </article>
        </div>
      </section>

      <!-- Facebook video embed after gallery -->
      <section id="section-video" class="container">
        <div class="video-embed" role="region" aria-label="Facebook video">
          <iframe
            class="video-frame"
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Ffb.watch%2FCNNx5ZE7LZ%2F&show_text=false&width=1280"
            style="border: none; overflow: hidden"
            scrolling="no"
            frameborder="0"
            allowfullscreen="true"
            allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </section>

      <section id="section-calendar" class="container" data-calendar-section>
        <div class="section-head">
          <h2>Calendar at a Glance</h2>
        </div>
        <div class="weather" role="region" aria-label="Weather summary">
          <div class="current">
            <div class="temp" data-w-temp>--</div>
            <div>
              <div style="font-weight: 600" data-w-cond>--</div>
              <div class="cond" data-w-loc>--</div>
              <div class="cond" data-w-sugg>--</div>
            </div>
          </div>
        </div>
      </section>

      <section id="section-cta" class="container">
        <div class="section-head"><h2>Ready to plan?</h2></div>
        <div style="display: flex; gap: 10px; flex-wrap: wrap">
          <a class="btn primary" href="#/packages">Book Now</a>
          <a class="btn hollow" href="#/packages">Explore Packages</a>
        </div>
      </section>
    </template>

    <script type="module" src="assets/js/app.js"></script>
  </body>
</html>
